import unittest

from itensornetworks_qiskit.sample import parse_samples


class TestSample(unittest.TestCase):
    def test_parse_samples(self):
        shots_str = ("Dictionaries.Dictionary{Tuple{Int64, Int64}, Int64}[{(1, 1) = 1, (2, "
                      "1) = 0, (3, 1) = 1, (1, 2) = 1, (3, 2) = 1, (4, 2) = 1, (1, 3) = 0, (3, "
                      "3) = 1, (1, 4) = 0, (2, 4) = 1, (3, 4) = 0, (4, 4) = 0, (1, 5) = 1, (4, "
                      "5) = 1, (1, 6) = 1, (2, 6) = 0, (3, 6) = 1, (4, 6) = 1, (1, 7) = 1}, {(1, "
                      "1) = 0, (2, 1) = 0, (3, 1) = 1, (1, 2) = 0, (3, 2) = 0, (4, 2) = 0, (1, "
                      "3) = 1, (3, 3) = 0, (1, 4) = 0, (2, 4) = 0, (3, 4) = 1, (4, 4) = 0, (1, "
                      "5) = 0, (4, 5) = 0, (1, 6) = 1, (2, 6) = 0, (3, 6) = 1, (4, 6) = 0, (1, "
                      "7) = 0}, {(1, 1) = 0, (2, 1) = 0, (3, 1) = 0, (1, 2) = 0, (3, 2) = 1, (4, "
                      "2) = 1, (1, 3) = 1, (3, 3) = 1, (1, 4) = 0, (2, 4) = 1, (3, 4) = 0, (4, "
                      "4) = 1, (1, 5) = 1, (4, 5) = 1, (1, 6) = 0, (2, 6) = 0, (3, 6) = 1, (4, "
                      "6) = 0, (1, 7) = 0}, {(1, 1) = 0, (2, 1) = 1, (3, 1) = 1, (1, 2) = 0, (3, "
                      "2) = 0, (4, 2) = 0, (1, 3) = 1, (3, 3) = 0, (1, 4) = 0, (2, 4) = 0, (3, "
                      "4) = 1, (4, 4) = 1, (1, 5) = 0, (4, 5) = 0, (1, 6) = 0, (2, 6) = 0, (3, "
                      "6) = 0, (4, 6) = 0, (1, 7) = 1}, {(1, 1) = 1, (2, 1) = 0, (3, 1) = 1, (1, "
                      "2) = 1, (3, 2) = 0, (4, 2) = 0, (1, 3) = 0, (3, 3) = 0, (1, 4) = 1, (2, "
                      "4) = 1, (3, 4) = 1, (4, 4) = 1, (1, 5) = 1, (4, 5) = 0, (1, 6) = 1, (2, "
                      "6) = 1, (3, 6) = 1, (4, 6) = 0, (1, 7) = 0}]")
        samples = parse_samples(shots_str)
        self.assertNotIn({}, samples)
